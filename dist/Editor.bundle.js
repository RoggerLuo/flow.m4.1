(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2],{115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startFromScratch=e.BaseEditor=void 0,e.startFromText=function(t){const e=o.ContentState.createFromText(t);return o.EditorState.createWithContent(e,i.default)};var o=n(46),i=a(n(145)),r=a(n(141));function a(t){return t&&t.__esModule?t:{default:t}}e.BaseEditor=r.default;e.startFromScratch=(()=>o.EditorState.createEmpty(i.default))},141:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({editorState:t,onChange:e,readOnly:n,handleKeyCommand:o,keyBinding:i,setRef:s}){const c=()=>{};return o&&i?r.default.createElement(a.Editor,{editorState:t,onChange:e||c,handleKeyCommand:o,keyBindingFn:i,ref:s||c}):r.default.createElement(a.Editor,{editorState:t,onChange:e||c,ref:s||c,readOnly:n||!1})};var o,i=n(1),r=(o=i)&&o.__esModule?o:{default:o},a=n(46)},142:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(1),r=(o=i)&&o.__esModule?o:{default:o};e.default=[{strategy:function(t,e,n){const o=t.getText();0===o.ltrim().indexOf("#")&&e(1,o.length)},component:function(t){return r.default.createElement("span",{style:{fontSize:"28px"}},t.children)}},{strategy:function(t,e){0===t.getText().ltrim().indexOf("#")&&e(0,1)},component:function(t){return r.default.createElement("span",{style:{fontSize:"28px",color:"#ccc"}},t.children)}}]},143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(1),r=(o=i)&&o.__esModule?o:{default:o};e.default=[{strategy:function(t,e,n){const o=t.getText();0===o.ltrim().indexOf("##")&&e(2,o.length)},component:function(t){return r.default.createElement("span",{style:{fontSize:"24px"}},t.children)}},{strategy:function(t,e){0===t.getText().ltrim().indexOf("##")&&e(0,2)},component:function(t){return r.default.createElement("span",{style:{fontSize:"24px",color:"#ccc"}},t.children)}}]},144:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(1),r=(o=i)&&o.__esModule?o:{default:o};e.default=[{strategy:function(t,e,n){const o=t.getText();0===o.ltrim().indexOf("###")&&e(3,o.length)},component:function(t){return r.default.createElement("span",{style:{fontSize:"20px"}},t.children)}},{strategy:function(t,e){0===t.getText().ltrim().indexOf("###")&&e(0,3)},component:function(t){return r.default.createElement("span",{style:{fontSize:"20px",color:"#ccc"}},t.children)}}]},145:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(n(1));var o=n(46),i=s(n(144)),r=s(n(143)),a=s(n(142));function s(t){return t&&t.__esModule?t:{default:t}}String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},e.default=new o.CompositeDecorator([...i.default,...r.default,...a.default])},146:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(46);e.default=(t=>{const e=t.getCurrentContent().getBlockMap(),n=e.last().getKey(),i=e.last().getLength(),r=new o.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i});return o.EditorState.acceptSelection(t,r)})},147:function(t,e,n){t.exports=n.p+"b4fba700a360126cd45302afa4426fa5.png"},236:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=l(n(1)),r=n(115),a=n(46),s=l(n(147)),c=l(n(146)),d=n(16);function l(t){return t&&t.__esModule?t:{default:t}}e.default=class extends i.default.Component{constructor(t){super(t),this.state={editorState:(0,r.startFromScratch)(),itemId:Date.parse(new Date)/1e3,inputDOM:null},this.setRef=(t=>this.setState({inputDOM:t})),this.oldText="",this.interfaces=this.props.interfaces,this.onChange=this.onChange.bind(this),this.focus=this.focus.bind(this),this.save=this.save.bind(this),this.replace=this.replace.bind(this),this.newNote=this.newNote.bind(this),this.replaceContent=this.replaceContent.bind(this),this.interfaces.replaceContent=this.replaceContent,this.interfaces.editorSave=this.save,this.interfaces.editorFocus=this.focus,this.interfaces.openEditor=(t=>{t?this.replace(t):this.newNote()})}newNote(){const t=Date.parse(new Date)/1e3;this.replace({content:"",itemId:t}),this.setState({editorState:(0,r.startFromScratch)(),itemId:t},()=>{window.localStorage.setItem("_editorNote",JSON.stringify({content:"",itemId:t}))})}replaceContent(t){let e,n=this.oldText;e="-"==n[n.length-1]?` ${t} -`:`\n- ${t} -`,this.oldText+=e;const o=(0,r.startFromText)(this.oldText);this.setState({editorState:o})}replace(t,e){const n=(0,r.startFromText)(t.content);this.oldText=n.getCurrentContent().getPlainText(),this.setState({editorState:n,itemId:t.itemId})}onChange(t){const e=t.getCurrentContent().getPlainText();this.setState({editorState:t},()=>{e!==this.oldText&&(this.oldText=e,this.props.onChange&&this.props.onChange({content:e,itemId:this.state.itemId}),window.localStorage.setItem("_editorNote",JSON.stringify({content:e,itemId:this.state.itemId})),d.Model.change("editor","unsaved",!0))})}focus(){"true"!=document.activeElement.contentEditable&&this.setState(t=>({editorState:(0,c.default)(t.editorState)}),()=>{this.state.inputDOM.focus()})}save(){const{itemId:t,editorState:e}=this.state,n={itemId:t,content:e.getCurrentContent().getPlainText()};d.Model.dispatch({type:"editor/save",note:n,callback:t=>{this.newNote(),this.props.onSave&&this.props.onSave(t),this.props.closeEditor()}})}render(){let t={fontSize:"17px",cursor:"text",height:"100%"};return this.props.unsaved&&(t=o({},t,{backgroundImage:`url(${s.default})`})),i.default.createElement("div",{style:t},i.default.createElement("div",{style:{padding:"15px"}},i.default.createElement(a.Editor,{editorState:this.state.editorState,onChange:this.onChange,ref:this.setRef,placeholder:"Do less, get more"})))}}}}]);